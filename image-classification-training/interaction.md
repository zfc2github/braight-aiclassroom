# 图像分类训练应用 - 交互设计文档

## 核心交互流程

### 1. 数据集管理区域
- **分类管理**: 用户可以添加、重命名、删除分类
  - **添加分类**: 点击"+"按钮，输入分类名称，按回车确认
  - **编辑分类**: 点击编辑按钮，分类名称变为可编辑状态，支持回车确认或点击外部保存
  - **删除分类**: 点击删除按钮，弹出确认对话框，确认后删除分类及所有样本
- **样本收集**: 每个分类支持摄像头拍照和本地图片上传
- **样本展示**: 网格布局显示已收集的样本，支持删除单张图片
- **数据统计**: 实时显示每个分类的样本数量

### 2. 模型训练区域
- **训练参数设置**: 学习率、训练轮数、批次大小等参数调整
- **训练进度**: 实时显示训练进度、损失值、准确率
- **训练控制**: 开始训练、暂停训练、重置模型按钮
- **训练历史**: 显示历史训练记录和性能指标

### 3. 模型测试区域
- **图片输入**: 支持摄像头拍照和本地图片上传进行测试
- **预测结果**: 显示预测分类、置信度百分比、前5个最可能分类
- **结果可视化**: 置信度条形图显示
- **批量测试**: 支持多张图片批量测试

### 4. 模型管理区域
- **模型保存**: 将训练好的模型保存到本地存储
- **模型下载**: 下载模型文件到本地计算机
- **模型加载**: 从本地文件系统加载已有模型
- **模型分享**: 生成模型分享链接

## 详细交互设计

### 分类管理增强功能

#### 编辑分类名称
1. **触发方式**: 鼠标悬停在分类项上显示编辑按钮（铅笔图标）
2. **编辑状态**: 
   - 分类名称变为输入框，自动聚焦
   - 输入框边框高亮显示
   - 显示保存和取消按钮
3. **保存方式**:
   - 按回车键保存
   - 点击输入框外部区域保存
   - 点击保存按钮保存
4. **验证规则**:
   - 名称不能为空
   - 名称不能重复
   - 名称长度限制在20个字符以内

#### 删除分类
1. **触发方式**: 鼠标悬停在分类项上显示删除按钮（垃圾桶图标）
2. **确认流程**:
   - 弹出确认对话框
   - 显示将要删除的分类名称和样本数量
   - 需要用户二次确认
3. **删除后果**:
   - 删除分类及其所有样本数据
   - 如果删除的是当前选中的分类，自动切换到第一个可用分类
   - 更新相关统计数据

### 分类项交互细节
- **悬停效果**: 轻微上浮 + 阴影增强
- **操作按钮显示**: 鼠标悬停时淡入显示编辑和删除按钮
- **选中状态**: 蓝色边框高亮，其他分类保持默认状态
- **空状态处理**: 删除所有分类后显示引导信息

### 键盘快捷键支持
- **编辑模式**: 
  - Enter: 保存修改
  - Escape: 取消编辑
  - Tab: 切换到下一个可编辑元素

### 移动端适配
- **触摸友好**: 按钮尺寸适配触摸操作
- **长按编辑**: 长按分类项进入编辑模式
- **滑动删除**: 支持左右滑动删除分类（可选）

### 数据集管理交互
1. **添加分类**: 点击"+"按钮，输入分类名称，按回车确认
2. **收集样本**: 
   - 摄像头模式: 点击相机图标，授权后拍照，自动保存到当前分类
   - 上传模式: 拖拽或点击上传区域，选择多张图片，批量添加到分类
3. **样本管理**: 悬停样本显示删除按钮，点击可删除单张图片
4. **数据增强**: 提供旋转、翻转、亮度调整等数据增强选项

### 模型训练交互
1. **参数设置**: 滑块和输入框结合，支持精细调节
2. **训练过程**: 
   - 点击"开始训练"按钮，显示训练进度条
   - 实时更新损失值和准确率曲线图
   - 支持中途停止训练
3. **训练完成**: 自动保存最佳模型，显示训练总结

### 测试演示交互
1. **单张测试**: 上传图片后自动进行预测，显示结果
2. **实时测试**: 摄像头模式下实时预测，动态显示结果
3. **结果分析**: 点击结果可查看详细分析报告

### 模型管理交互
1. **保存模型**: 训练完成后自动提示保存，用户可自定义模型名称
2. **下载模型**: 一键下载模型文件和配置文件
3. **加载模型**: 支持拖拽加载或文件选择器加载

## 响应式设计考虑
- 移动端优化: 触摸友好的按钮尺寸，手势支持
- 平板适配: 合理的布局调整，充分利用屏幕空间
- 桌面端: 多列布局，同时显示多个功能区域

## 用户体验设计
### 引导流程
1. 首次使用显示引导遮罩，介绍主要功能
2. 关键操作提供工具提示
3. 空状态显示引导信息，鼓励用户开始操作

### 反馈机制
1. 操作确认提示
2. 进度状态显示
3. 错误友好提示

### 性能优化
1. 图像压缩
2. 模型量化
3. 缓存策略